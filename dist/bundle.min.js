(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Yan = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,undefined,isPlainObject=function(t){"use strict";if(!t||"[object Object]"!==toString.call(t))return!1;var r=hasOwn.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&hasOwn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var o;for(o in t);return o===undefined||hasOwn.call(t,o)};module.exports=function t(){"use strict";var r,n,o,e,c,a,i=arguments[0],s=1,u=arguments.length,l=!1;for("boolean"==typeof i?(l=i,i=arguments[1]||{},s=2):("object"!=typeof i&&"function"!=typeof i||null==i)&&(i={});u>s;++s)if(r=arguments[s],null!=r)for(n in r)o=i[n],e=r[n],i!==e&&(l&&e&&(isPlainObject(e)||(c=Array.isArray(e)))?(c?(c=!1,a=o&&Array.isArray(o)?o:[]):a=o&&isPlainObject(o)?o:{},i[n]=t(l,a,e)):e!==undefined&&(i[n]=e));return i};


},{}],2:[function(require,module,exports){
"use strict";function unique_pred(n,e){for(var u=1,t=n.length,i=n[0],r=n[0],o=1;t>o;++o)if(r=i,i=n[o],e(i,r)){if(o===u){u++;continue}n[u++]=i}return n.length=u,n}function unique_eq(n){for(var e=1,u=n.length,t=n[0],i=n[0],r=1;u>r;++r,i=t)if(i=t,t=n[r],t!==i){if(r===e){e++;continue}n[e++]=t}return n.length=e,n}function unique(n,e,u){return 0===n.length?n:e?(u||n.sort(e),unique_pred(n,e)):(u||n.sort(),unique_eq(n))}module.exports=unique;


},{}],3:[function(require,module,exports){
"use strict";var _toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},uniq=require("uniq"),extend=require("extend"),EmoticonBox=React.createClass({displayName:"EmoticonBox",loadDataFromServer:function(){var e=this;fetch(this.props.dataSource).then(function(e){return e.json()}).then(function(t){e.setState({data:t.list})})["catch"](function(e){console.log("request failed",e)})},componentDidMount:function(){this.loadDataFromServer()},getInitialState:function(){return{searchText:"",data:[]}},handleSearch:function(){this.setState({searchText:this.refs.searchBox.getDOMNode().value})},render:function(){var e=[],t=this.state.searchText.trim();return this.state.data.forEach(function(n){(!t||n.tag.split(" ").indexOf(t)>=0)&&e.push.apply(e,_toConsumableArray(n.yan))}),React.createElement("div",{className:"emoticon-box"},React.createElement("input",{type:"text",className:"search-box",ref:"searchBox",placeholder:"关键词搜索，如: 掀桌",onChange:this.handleSearch,value:this.state.searchText}),React.createElement(EmoticonList,{emoticons:uniq(e),onSelect:this.props.onSelect}))}}),EmoticonList=React.createClass({displayName:"EmoticonList",handleSelect:function(e){var t=e.target.textContent||e.target.innerText;this.props.onSelect(t)},render:function(){var e=this,t=this.props.emoticons.map(function(t){return React.createElement("li",{className:"emoticon",onClick:e.handleSelect,key:t},t)});return React.createElement("ul",{className:"emoticon-list"},t)}}),Yan={init:function(e,t){t=extend({dataSource:"https://cdn.rawgit.com/turingou/o3o/master/yan.json",onSelect:function(){},closeOnSelect:!0},t);var n=null,a=t.onSelect;t.onSelect=function(e){n&&t.closeOnSelect&&n.close(),a(e)};var o=document.createElement("div");React.render(React.createElement(EmoticonBox,React.__spread({},t)),o),n=new Drop({target:e,classes:"drop-theme-arrows",content:o,position:"top center",constrainToWindow:!0,openOn:"click"})}};module.exports=Yan;


},{"extend":1,"uniq":2}]},{},[3])(3)
});